<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 5.4.2">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Arvo:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=JetBrains+Mono:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"scatteredream.github.io","root":"/","images":"/images","scheme":"Muse","darkmode":true,"version":"8.23.0","exturl":false,"sidebar":{"position":"right","width_expanded":320,"width_dual_column":240,"display":"post","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":true,"style":"flat"},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":false,"async":false},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"/search.xml","localsearch":{"enable":true,"top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="数和运算无符号和有符号数无符号数寄存器位数就等于无符号数的位数 有符号数符号位+数值位 机器数是机器中的表示方法，真值就是真实的值。比如真值为+1，机器数就是00001(四位二进制+符号位) 原码表示法 7的原码 0111 真值共3位 -5的原码先取反5即101，再加2^3^ 1101，n是数据位数 本质是带符号的绝对值，符号被数字化，小数如下：  问题： 能否找到一个与负数等价的正数，代替这个负">
<meta property="og:type" content="article">
<meta property="og:title" content="数的运算 CPU 指令系统">
<meta property="og:url" content="http://scatteredream.github.io/2024/09/20/408-%E8%AE%A1%E7%BB%84-CPU/index.html">
<meta property="og:site_name" content="scatteredream&#39;s blog">
<meta property="og:description" content="数和运算无符号和有符号数无符号数寄存器位数就等于无符号数的位数 有符号数符号位+数值位 机器数是机器中的表示方法，真值就是真实的值。比如真值为+1，机器数就是00001(四位二进制+符号位) 原码表示法 7的原码 0111 真值共3位 -5的原码先取反5即101，再加2^3^ 1101，n是数据位数 本质是带符号的绝对值，符号被数字化，小数如下：  问题： 能否找到一个与负数等价的正数，代替这个负">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706213908812.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706220258001.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706220732148.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706221056891.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706221538615.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706221948440.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706222619681.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707145106425.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707151032925.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707154943326.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707155019121.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707151550652.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707151813019.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707164938752.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707170216760.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707170942873.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707171601554.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707172237122.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707152838351.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707153900149.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707172436375.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707172703934.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/d6ej2vfibs2cw_0e3e13be2c8747bca5abc8a7b8cbd77d.webp">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707201312846.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707211623774.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707215559303.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707221233780.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708143456210.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708143522928.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708143557760.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708143611525.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708143628562.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708145911043.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708150126481.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708150440008.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708151934259.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708151949418.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708153404896.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708162300561.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708162814971.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708170057566.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708163024193.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708171039868.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708165658159.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708163546185.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708165732848.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708174638709-1720432067641-1.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708183944205.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708183415639.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708183401932.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708184734580.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708183546042.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708184553805.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708183600178.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708184345766.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708183706661.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708184255485.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708184358949.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708185921002.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708190353466.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708190959696.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708191237400.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708191301932.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708192833186.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708213502481.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708213509455.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708213516901.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708213527974.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/20210515135546230.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708200915099.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708201119571.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708201151183.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708201407246.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708201701155.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708210033847.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708211427010.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708211440882.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708212522800.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708215640792.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708215930568.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708222527779.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708221826452.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708222151040.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708222202564.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708235618670.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708235920709.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709132917427.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709134249611.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709151019317.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709152238952.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709153256508.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709153630873.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709153945994.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709154501154.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709155432711.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709160540537.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709160922557.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709161132636.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709161651786.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709161912171.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709174419116.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709162228545.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709162356672.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709163719074.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709165141178.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709165435315.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709165718469.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709165806996.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709165927865.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709170616972.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709171350563.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709171616344.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709172308296.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709172343892.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709172459205.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709173920685.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709180027699.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709180154460.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709180420712.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709180826769.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709180927583.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709180948619.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709202341142.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709203641379.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709203902002.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709204627725.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709204732300.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709204902523.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709204952863.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709205235679.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709211508947.png">
<meta property="og:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709232334388.png">
<meta property="article:published_time" content="2024-09-19T16:00:00.000Z">
<meta property="article:modified_time" content="2025-05-05T04:43:11.460Z">
<meta property="article:author" content="碎梦">
<meta property="article:tag" content="cpu">
<meta property="article:tag" content="指令">
<meta property="article:tag" content="浮点运算">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706213908812.png">


<link rel="canonical" href="http://scatteredream.github.io/2024/09/20/408-%E8%AE%A1%E7%BB%84-CPU/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"http://scatteredream.github.io/2024/09/20/408-%E8%AE%A1%E7%BB%84-CPU/","path":"2024/09/20/408-计组-CPU/","title":"数的运算 CPU 指令系统"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>数的运算 CPU 指令系统 | scatteredream's blog</title>
  








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous" defer></script>
<script src="/js/third-party/search/local-search.js" defer></script>







  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">scatteredream's blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="搜索" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
      <div class="search-header">
        <span class="search-icon">
          <i class="fa fa-search"></i>
        </span>
        <div class="search-input-container">
          <input autocomplete="off" autocapitalize="off" maxlength="80"
                placeholder="搜索..." spellcheck="false"
                type="search" class="search-input">
        </div>
        <span class="popup-btn-close" role="button">
          <i class="fa fa-times-circle"></i>
        </span>
      </div>
      <div class="search-result-container">
        <div class="search-result-icon">
          <i class="fa fa-spinner fa-pulse fa-5x"></i>
        </div>
      </div>
    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%95%B0%E5%92%8C%E8%BF%90%E7%AE%97"><span class="nav-number">1.</span> <span class="nav-text">数和运算</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%97%A0%E7%AC%A6%E5%8F%B7%E5%92%8C%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0"><span class="nav-number">1.1.</span> <span class="nav-text">无符号和有符号数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E7%AC%A6%E5%8F%B7%E6%95%B0"><span class="nav-number">1.1.1.</span> <span class="nav-text">无符号数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%89%E7%AC%A6%E5%8F%B7%E6%95%B0"><span class="nav-number">1.1.2.</span> <span class="nav-text">有符号数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8E%9F%E7%A0%81%E8%A1%A8%E7%A4%BA%E6%B3%95"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">原码表示法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%A1%A5%E7%A0%81"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">补码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A7%BB%E7%A0%81"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">移码</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9A%E7%82%B9%E6%95%B0%E5%92%8C%E6%B5%AE%E7%82%B9%E6%95%B0"><span class="nav-number">1.2.</span> <span class="nav-text">定点数和浮点数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E7%82%B9%E6%95%B0"><span class="nav-number">1.2.1.</span> <span class="nav-text">定点数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%AE%E7%82%B9%E6%95%B0"><span class="nav-number">1.2.2.</span> <span class="nav-text">浮点数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9A%E7%82%B9%E8%BF%90%E7%AE%97"><span class="nav-number">1.3.</span> <span class="nav-text">定点运算</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E7%82%B9%E7%A7%BB%E4%BD%8D%E8%BF%90%E7%AE%97"><span class="nav-number">1.3.1.</span> <span class="nav-text">定点移位运算</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%97%E6%95%B0%E7%A7%BB%E4%BD%8D"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">算数移位</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E7%AE%97%E6%95%B0%E7%A7%BB%E4%BD%8D%E8%A7%84%E5%88%99"><span class="nav-number">1.3.1.1.1.</span> <span class="nav-text">算数移位规则</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E7%A7%BB%E4%BD%8D"><span class="nav-number">1.3.1.2.</span> <span class="nav-text">逻辑移位</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BE%AA%E7%8E%AF%E7%A7%BB%E4%BD%8D"><span class="nav-number">1.3.1.3.</span> <span class="nav-text">循环移位</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E7%82%B9%E5%8A%A0%E5%87%8F%E6%B3%95"><span class="nav-number">1.3.2.</span> <span class="nav-text">定点加减法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E7%82%B9%E4%B9%98%E9%99%A4%E6%B3%95"><span class="nav-number">1.3.3.</span> <span class="nav-text">定点乘除法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E7%A0%81%E5%AE%9A%E7%82%B9%E4%B8%80%E4%BD%8D%E4%B9%98"><span class="nav-number">1.3.4.</span> <span class="nav-text">原码定点一位乘</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E7%A0%81%E5%AE%9A%E7%82%B9%E4%B8%80%E4%BD%8D%E4%B9%98%EF%BC%88Booth%EF%BC%89"><span class="nav-number">1.3.5.</span> <span class="nav-text">补码定点一位乘（Booth）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E7%A0%81%E5%AE%9A%E7%82%B9%E9%99%A4%E6%B3%95"><span class="nav-number">1.3.6.</span> <span class="nav-text">原码定点除法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E7%A0%81%E5%AE%9A%E7%82%B9%E9%99%A4%E6%B3%95"><span class="nav-number">1.3.7.</span> <span class="nav-text">补码定点除法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%B5%AE%E7%82%B9%E8%BF%90%E7%AE%97"><span class="nav-number">1.4.</span> <span class="nav-text">浮点运算</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%AE%E7%82%B9%E5%8A%A0%E5%87%8F%E6%B3%95"><span class="nav-number">1.4.1.</span> <span class="nav-text">浮点加减法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#S1-%E5%AF%B9%E9%98%B6"><span class="nav-number">1.4.1.1.</span> <span class="nav-text">S1:对阶</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#S2-%E5%B0%BE%E6%95%B0%E6%B1%82%E5%92%8C"><span class="nav-number">1.4.1.2.</span> <span class="nav-text">S2:尾数求和</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#S3-%E5%B0%BE%E6%95%B0%E8%A7%84%E6%A0%BC%E5%8C%96"><span class="nav-number">1.4.1.3.</span> <span class="nav-text">S3:尾数规格化</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B7%A6%E8%A7%84-%E7%9B%B8%E5%BD%93%E4%BA%8E%E4%B9%982"><span class="nav-number">1.4.1.3.1.</span> <span class="nav-text">左规 相当于乘2</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%B3%E8%A7%84-%E7%9B%B8%E5%BD%93%E4%BA%8E%E9%99%A42"><span class="nav-number">1.4.1.3.2.</span> <span class="nav-text">右规 相当于除2</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#S4-%E8%88%8D%E5%85%A5"><span class="nav-number">1.4.1.4.</span> <span class="nav-text">S4:舍入</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#S5-%E6%BA%A2%E5%87%BA%E5%88%A4%E6%96%AD"><span class="nav-number">1.4.1.5.</span> <span class="nav-text">S5:溢出判断</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%AF%E5%B7%AE%E5%88%86%E6%9E%90"><span class="nav-number">1.4.1.6.</span> <span class="nav-text">误差分析</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ALU-%E7%AE%97%E6%95%B0%E9%80%BB%E8%BE%91%E5%8D%95%E5%85%83"><span class="nav-number">1.4.2.</span> <span class="nav-text">ALU-算数逻辑单元</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#ALU%E7%94%B5%E8%B7%AF"><span class="nav-number">1.4.2.1.</span> <span class="nav-text">ALU电路</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BF%AB%E9%80%9F%E8%BF%9B%E4%BD%8D"><span class="nav-number">1.4.2.2.</span> <span class="nav-text">快速进位</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B9%B6%E8%A1%8C%E5%8A%A0%E6%B3%95%E5%99%A8"><span class="nav-number">1.4.2.2.1.</span> <span class="nav-text">并行加法器</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%B2%E8%A1%8C%E8%BF%9B%E4%BD%8D-Ripple-Carry"><span class="nav-number">1.4.2.2.2.</span> <span class="nav-text">串行进位 Ripple Carry</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B9%B6%E8%A1%8C%E8%BF%9B%E4%BD%8D%EF%BC%88%E8%B6%85%E5%89%8D%E8%BF%9B%E4%BD%8D%EF%BC%89-LookAhead-Carry"><span class="nav-number">1.4.2.2.3.</span> <span class="nav-text">并行进位（超前进位） LookAhead Carry</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8D%95%E9%87%8D%E5%88%86%E7%BB%84%E8%B7%B3%E8%B7%83%E8%BF%9B%E4%BD%8D%E9%93%BE"><span class="nav-number">1.4.2.2.4.</span> <span class="nav-text">单重分组跳跃进位链</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%8C%E9%87%8D%E5%88%86%E7%BB%84%E8%B7%B3%E8%B7%83%E8%BF%9B%E4%BD%8D%E9%93%BE"><span class="nav-number">1.4.2.2.5.</span> <span class="nav-text">双重分组跳跃进位链</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4%E7%B3%BB%E7%BB%9F"><span class="nav-number">2.</span> <span class="nav-text">指令系统</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%9C%BA%E5%99%A8%E6%8C%87%E4%BB%A4"><span class="nav-number">2.1.</span> <span class="nav-text">机器指令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">2.1.0.1.</span> <span class="nav-text">总结</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E6%95%B0"><span class="nav-number">2.2.</span> <span class="nav-text">操作数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E6%95%B0%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.2.1.</span> <span class="nav-text">操作数类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%98%E6%94%BE%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="nav-number">2.2.2.</span> <span class="nav-text">存放数据的方式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%AB%98%E5%9C%B0%E5%9D%80%E5%92%8C%E4%BD%8E%E5%9C%B0%E5%9D%80"><span class="nav-number">2.2.2.0.1.</span> <span class="nav-text">高地址和低地址</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%AB%98%E5%AD%97%E8%8A%82%E5%92%8C%E4%BD%8E%E5%AD%97%E8%8A%82"><span class="nav-number">2.2.2.0.2.</span> <span class="nav-text">高字节和低字节</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%A4%A7%E5%B0%8F%E7%AB%AF"><span class="nav-number">2.2.2.0.3.</span> <span class="nav-text">大小端</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B1%BB%E5%9E%8B"><span class="nav-number">2.2.3.</span> <span class="nav-text">操作类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4%E7%9A%84%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F"><span class="nav-number">2.3.</span> <span class="nav-text">指令的寻址方式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F"><span class="nav-number">2.3.1.</span> <span class="nav-text">指令寻址方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%BA%E5%BA%8F"><span class="nav-number">2.3.1.1.</span> <span class="nav-text">顺序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%B7%B3%E8%B7%83"><span class="nav-number">2.3.1.2.</span> <span class="nav-text">跳跃</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%AF%BB%E5%9D%80%E6%96%B9%E5%BC%8F"><span class="nav-number">2.3.2.</span> <span class="nav-text">数据寻址方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4%E6%A0%BC%E5%BC%8F"><span class="nav-number">2.4.</span> <span class="nav-text">指令格式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#RISC"><span class="nav-number">2.5.</span> <span class="nav-text">RISC</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#CPU"><span class="nav-number">3.</span> <span class="nav-text">CPU</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#CPU%E7%9A%84%E7%BB%93%E6%9E%84"><span class="nav-number">3.1.</span> <span class="nav-text">CPU的结构</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CPU%E7%9A%84%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-number">3.1.1.</span> <span class="nav-text">CPU的寄存器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E5%8F%AF%E8%A7%81%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-number">3.1.1.1.</span> <span class="nav-text">用户可见寄存器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%92%8C%E7%8A%B6%E6%80%81%E5%AF%84%E5%AD%98%E5%99%A8"><span class="nav-number">3.1.1.2.</span> <span class="nav-text">控制和状态寄存器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%8D%95%E5%85%83CU%E5%92%8C%E4%B8%AD%E6%96%AD%E7%B3%BB%E7%BB%9F"><span class="nav-number">3.1.1.3.</span> <span class="nav-text">控制单元CU和中断系统</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ALU"><span class="nav-number">3.1.1.4.</span> <span class="nav-text">ALU</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4%E5%91%A8%E6%9C%9F"><span class="nav-number">3.2.</span> <span class="nav-text">指令周期</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="nav-number">3.2.1.</span> <span class="nav-text">数据流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%96%E6%8C%87%E5%91%A8%E6%9C%9F"><span class="nav-number">3.2.1.1.</span> <span class="nav-text">取指周期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%97%B4%E5%9D%80%E5%91%A8%E6%9C%9F"><span class="nav-number">3.2.1.2.</span> <span class="nav-text">间址周期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C%E5%91%A8%E6%9C%9F"><span class="nav-number">3.2.1.3.</span> <span class="nav-text">执行周期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E5%91%A8%E6%9C%9F"><span class="nav-number">3.2.1.4.</span> <span class="nav-text">中断周期</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4%E6%B5%81%E6%B0%B4"><span class="nav-number">3.2.2.</span> <span class="nav-text">指令流水</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8F%90%E9%AB%98%E6%9C%BA%E5%99%A8%E9%80%9F%E5%BA%A6%EF%BC%9F"><span class="nav-number">3.2.2.1.</span> <span class="nav-text">提高机器速度？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E5%B9%B6%E8%A1%8C"><span class="nav-number">3.2.2.2.</span> <span class="nav-text">系统并行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%87%E4%BB%A4%E6%B5%81%E6%B0%B4%E5%8E%9F%E7%90%86"><span class="nav-number">3.2.2.3.</span> <span class="nav-text">指令流水原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BD%B1%E5%93%8D%E6%80%A7%E8%83%BD%E5%9B%A0%E7%B4%A0"><span class="nav-number">3.2.2.4.</span> <span class="nav-text">影响性能因素</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E5%A4%9A%E5%8F%91"><span class="nav-number">3.2.3.</span> <span class="nav-text">流水线多发</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%81%E6%B0%B4%E7%BA%BF%E7%BB%93%E6%9E%84"><span class="nav-number">3.2.4.</span> <span class="nav-text">流水线结构</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E7%B3%BB%E7%BB%9F"><span class="nav-number">3.3.</span> <span class="nav-text">中断系统 </span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%95%E8%B5%B7%E4%B8%AD%E6%96%AD%E7%9A%84%E5%9B%A0%E7%B4%A0"><span class="nav-number">3.3.1.</span> <span class="nav-text">引起中断的因素</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E7%B3%BB%E7%BB%9F%E8%A7%A3%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98"><span class="nav-number">3.3.1.1.</span> <span class="nav-text">中断系统解决的问题</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E8%AF%B7%E6%B1%82%E5%A4%84%E7%90%86"><span class="nav-number">3.3.1.1.1.</span> <span class="nav-text">中断请求处理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E5%88%A4%E4%BC%98%E9%80%BB%E8%BE%91"><span class="nav-number">3.3.1.1.2.</span> <span class="nav-text">中断判优逻辑</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E6%9C%8D%E5%8A%A1%E7%A8%8B%E5%BA%8F%E5%85%A5%E5%8F%A3%E5%9C%B0%E5%9D%80"><span class="nav-number">3.3.1.2.</span> <span class="nav-text">中断服务程序入口地址</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E5%93%8D%E5%BA%94"><span class="nav-number">3.3.1.3.</span> <span class="nav-text">中断响应</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%93%8D%E5%BA%94%E6%9D%A1%E4%BB%B6"><span class="nav-number">3.3.1.3.1.</span> <span class="nav-text">响应条件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E9%9A%90%E6%8C%87%E4%BB%A4-%E7%A1%AC%E4%BB%B6%E5%AE%9E%E7%8E%B0%EF%BC%8C%E5%B9%B6%E4%B8%8D%E5%9C%A8%E6%8C%87%E4%BB%A4%E9%9B%86%E4%B8%AD"><span class="nav-number">3.3.1.3.2.</span> <span class="nav-text">中断隐指令(硬件实现，并不在指令集中)</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BF%9D%E6%8A%A4%E3%80%81%E6%81%A2%E5%A4%8D%E7%8E%B0%E5%9C%BA"><span class="nav-number">3.3.1.4.</span> <span class="nav-text">保护、恢复现场</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E9%87%8D%E4%B8%AD%E6%96%AD"><span class="nav-number">3.3.1.5.</span> <span class="nav-text">多重中断</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E5%B1%8F%E8%94%BD%E6%8A%80%E6%9C%AF"><span class="nav-number">3.3.1.5.1.</span> <span class="nav-text">中断屏蔽技术</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%96%AD%E7%82%B9%E4%BF%9D%E6%8A%A4"><span class="nav-number">3.3.1.5.2.</span> <span class="nav-text">断点保护</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%8D%95%E5%85%83-CU"><span class="nav-number">4.</span> <span class="nav-text">控制单元 CU</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BE%AE%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4%E5%88%86%E6%9E%90"><span class="nav-number">4.1.</span> <span class="nav-text">微操作命令分析</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%96%E6%8C%87%E5%91%A8%E6%9C%9F-1"><span class="nav-number">4.1.0.0.1.</span> <span class="nav-text">取指周期</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%97%B4%E5%9D%80%E5%91%A8%E6%9C%9F-1"><span class="nav-number">4.1.0.0.2.</span> <span class="nav-text">间址周期</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C%E5%91%A8%E6%9C%9F-1"><span class="nav-number">4.1.0.0.3.</span> <span class="nav-text">执行周期</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%AD%E6%96%AD%E5%91%A8%E6%9C%9F-1"><span class="nav-number">4.1.0.1.</span> <span class="nav-text">中断周期</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%8D%95%E5%85%83"><span class="nav-number">4.2.</span> <span class="nav-text">控制单元</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%96%E7%89%B9%E6%80%A7"><span class="nav-number">4.2.1.</span> <span class="nav-text">外特性</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BE%93%E5%85%A5%E4%BF%A1%E5%8F%B7"><span class="nav-number">4.2.1.1.</span> <span class="nav-text">输入信号</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BE%93%E5%87%BA%E4%BF%A1%E5%8F%B7"><span class="nav-number">4.2.1.2.</span> <span class="nav-text">输出信号</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E4%BF%A1%E5%8F%B7"><span class="nav-number">4.2.2.</span> <span class="nav-text">控制信号</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8D%E9%87%87%E7%94%A8%E6%80%BB%E7%BA%BF"><span class="nav-number">4.2.2.1.</span> <span class="nav-text">不采用总线</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%87%87%E7%94%A8%E6%80%BB%E7%BA%BF"><span class="nav-number">4.2.2.2.</span> <span class="nav-text">采用总线</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%9A%E7%BA%A7%E6%97%B6%E5%BA%8F%E7%B3%BB%E7%BB%9F"><span class="nav-number">4.2.3.</span> <span class="nav-text">多级时序系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%BA%E5%99%A8%E5%91%A8%E6%9C%9F"><span class="nav-number">4.2.3.1.</span> <span class="nav-text">机器周期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%97%B6%E9%92%9F%E5%91%A8%E6%9C%9F"><span class="nav-number">4.2.3.2.</span> <span class="nav-text">时钟周期</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%9A%E7%BA%A7%E6%97%B6%E5%BA%8F"><span class="nav-number">4.2.3.3.</span> <span class="nav-text">多级时序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%BB%E9%A2%91%E5%92%8C%E9%80%9F%E5%BA%A6%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-number">4.2.3.4.</span> <span class="nav-text">主频和速度的关系</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E6%96%B9%E5%BC%8F"><span class="nav-number">4.2.4.</span> <span class="nav-text">控制方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-number">4.2.5.</span> <span class="nav-text">控制器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A1%AC%E5%B8%83%E7%BA%BF%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-number">4.2.5.1.</span> <span class="nav-text">硬布线控制器</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BE%AE%E7%A8%8B%E5%BA%8F%E6%8E%A7%E5%88%B6%E5%99%A8"><span class="nav-number">4.2.5.2.</span> <span class="nav-text">微程序控制器</span></a></li></ol></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="碎梦"
      src="https://avatars.githubusercontent.com/u/62317679?s=400&v=4">
  <p class="site-author-name" itemprop="name">碎梦</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">82</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">126</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://scatteredream.github.io/2024/09/20/408-%E8%AE%A1%E7%BB%84-CPU/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://avatars.githubusercontent.com/u/62317679?s=400&v=4">
      <meta itemprop="name" content="碎梦">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="scatteredream's blog">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="数的运算 CPU 指令系统 | scatteredream's blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          数的运算 CPU 指令系统
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2024-09-20 00:00:00" itemprop="dateCreated datePublished" datetime="2024-09-20T00:00:00+08:00">2024-09-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">更新于</span>
      <time title="修改时间：2025-05-05 12:43:11" itemprop="dateModified" datetime="2025-05-05T12:43:11+08:00">2025-05-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E8%AE%A1%E7%BB%84/" itemprop="url" rel="index"><span itemprop="name">计组</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><h1 id="数和运算"><a href="#数和运算" class="headerlink" title="数和运算"></a>数和运算</h1><h2 id="无符号和有符号数"><a href="#无符号和有符号数" class="headerlink" title="无符号和有符号数"></a>无符号和有符号数</h2><h3 id="无符号数"><a href="#无符号数" class="headerlink" title="无符号数"></a>无符号数</h3><p>寄存器位数就等于无符号数的位数</p>
<h3 id="有符号数"><a href="#有符号数" class="headerlink" title="有符号数"></a>有符号数</h3><p>符号位+数值位</p>
<p>机器数是机器中的表示方法，真值就是真实的值。比如真值为+1，机器数就是00001(四位二进制+符号位)</p>
<h4 id="原码表示法"><a href="#原码表示法" class="headerlink" title="原码表示法"></a>原码表示法</h4><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706213908812.png" alt="image-20240706213908812"></p>
<p>7的原码 0111 真值共3位</p>
<p>-5的原码先取反5即101，再加2^3^ 1101，n是数据位数</p>
<p>本质是带符号的绝对值，符号被数字化，小数如下：</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706220258001.png" alt="image-20240706220258001"></p>
<p>问题：<img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706220732148.png" alt="image-20240706220732148"></p>
<p>能否找到一个与负数等价的正数，代替这个负数，使的加这个负数就等于加她的等价正数？</p>
<h4 id="补码"><a href="#补码" class="headerlink" title="补码"></a>补码</h4><p>补的概念</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706221056891.png" alt="image-20240706221056891"></p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706221538615.png" alt="image-20240706221538615"></p>
<p>加负数等于加他的补数</p>
<p>两个互为补数的数加<strong>模</strong>仍然互为补数</p>
<p>所以正数的补数就是他本身</p>
<p>但是此时有一个问题，没法区分是正还是负，所以再加一个符号位，用32为模</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706221948440.png" alt="image-20240706221948440"></p>
<p>-1011+100000 = 1 0101</p>
<p>1011+ 100000 = 0 0101</p>
<p>-1011加一个模变成0101，但区分不出来，所以再加一个模，变成1 0101 能区分了</p>
<p>==定义：== <img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240706222619681.png" alt="image-20240706222619681">  </p>
<p>x表示真值。n是整数的位数，踢去符号位。</p>
<p>原码表示2+（-2）:0,0000010+1,0000010=1,0000100 得-4，显然不对</p>
<p>如果用反码表示，还是不对，但是离正确结果很近了，只需要加1</p>
<p>所以-2应该是11111111的写法</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707145106425.png" alt="image-20240707145106425"></p>
<p>整数的补码：0只有1种表示形式，所以补码能多表示一个-8</p>
<p>小数的补码：0只有1种表示形式，所以补码能多表示一个-1</p>
<h4 id="移码"><a href="#移码" class="headerlink" title="移码"></a>移码</h4><p>只是符号位和补码不同</p>
<h2 id="定点数和浮点数"><a href="#定点数和浮点数" class="headerlink" title="定点数和浮点数"></a>定点数和浮点数</h2><h3 id="定点数"><a href="#定点数" class="headerlink" title="定点数"></a>定点数</h3><p>约定小数点位置</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707151032925.png" alt="image-20240707151032925"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707154943326.png" alt="image-20240707154943326"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707155019121.png" alt="image-20240707155019121"></p>
<p>记住一点：补码就是能比原码多表示一个数，用四位举例，原码1111=-0.875，变成补码就是1001了，此时还剩下一个1000没有对应的，那就让他对应-1好了。四位的整数同理，原码只能表示-7到7，因为由正零和负零，如果变成补码就能多表示一个，就让多出来的1000表示-8</p>
<h3 id="浮点数"><a href="#浮点数" class="headerlink" title="浮点数"></a>浮点数</h3><p><strong>为什么</strong></p>
<p>相差太大需要很长的机器字长</p>
<p><strong>表示方法</strong> </p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707151550652.png" alt="image-20240707151550652"></p>
<p>定点数(尾数) + 阶码</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707151813019.png" alt="image-20240707151813019"></p>
<p><strong>表示范围</strong></p>
<p> <img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707164938752.png" alt="image-20240707164938752"></p>
<p>下溢：0，上溢：错误</p>
<p>表示±3w的十进制数，阶符数符各一位，要搞清楚，尾数就是0.xxxxx，绝对值永远是小于1的，那么要想让N表示±3w，r^j^ 必须是3w+ 所以j阶码长度占4位，保证最大精度，剩下的全是尾数</p>
<p><strong>规格化</strong></p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707170216760.png" alt="image-20240707170216760"></p>
<p>为什么规格化？</p>
<p>r=2时，尾数如果最高位是0，就不算最简，通过阶码的变动仍然能让其变成更简</p>
<p>r=4时，尾数如果最高位是00，通过阶码变动仍然能让其变得更加简单</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707170942873.png" alt="image-20240707170942873"></p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707171601554.png" alt="image-20240707171601554"></p>
<p>二进制定点：整数在最后，小数在第一位后面</p>
<p>二进制浮点：规格化形式，</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707172237122.png" alt="image-20240707172237122"></p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707152838351.png" alt="image-20240707152838351"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707153900149.png" alt="image-20240707153900149"></p>
<p>Explicit </p>
<p>符号位+ Exponent（阶码） +尾数</p>
<p><strong>机器0</strong></p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707172436375.png" alt="image-20240707172436375"></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_47713503/article/details/108699001">IEEE 754</a><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707172703934.png" alt="image-20240707172703934"></p>
<p>r=2,所以把1隐含掉</p>
<p>8位移码：0~128~255 分别对应真值-128~0~127 </p>
<p>7位<strong>补码</strong>尾数：补码0只有一个，多出来的一个就变成-1</p>
<p>正数：2^7^   ~   1-2^7^  </p>
<p>负数：-1   ~   -2^7^</p>
<h2 id="定点运算"><a href="#定点运算" class="headerlink" title="定点运算"></a>定点运算</h2><h3 id="定点移位运算"><a href="#定点移位运算" class="headerlink" title="定点移位运算"></a>定点移位运算</h3><h4 id="算数移位"><a href="#算数移位" class="headerlink" title="算数移位"></a>算数移位</h4><p>移位：数据相对于小数点移动</p>
<p>左移：绝对值变大</p>
<p>右移：绝对值变小</p>
<p>与加减配合实现加减乘除</p>
<h5 id="算数移位规则"><a href="#算数移位规则" class="headerlink" title="算数移位规则"></a>算数移位规则</h5><p>符号位不变</p>
<table>
<thead>
<tr>
<th></th>
<th>码制</th>
<th>添补代码</th>
</tr>
</thead>
<tbody><tr>
<td>正数</td>
<td>原反补</td>
<td>0</td>
</tr>
<tr>
<td>负数</td>
<td>原码</td>
<td>0</td>
</tr>
<tr>
<td></td>
<td>反码</td>
<td>1</td>
</tr>
<tr>
<td></td>
<td>==补码==</td>
<td>左移，右侧空出来添0</td>
</tr>
<tr>
<td></td>
<td>==补码==</td>
<td>右移，左侧空出来添1</td>
</tr>
</tbody></table>
<p>对于原码（包括正数的原反补和负数的原码）来说，1是有意义的，左移丢1，误差很大，相当于丢了权重最大的一位，补了个0。右移丢1，误差较小，丢了权重最小的一位。</p>
<p>对于负数的补码来说，根据补码的规律，最右边的“1”的右边的数与原码一致，左边的数与反码相同，所以左移丢1对数据没有影响，右移丢1，误差较小</p>
<p>对于负数的反码来说，1是没有意义的，0才有意义，所以丢1对数据没有影响。</p>
<p>反码加1变成补码，加1会导致进位，最右边的1就是进位的最终结果，补码这部分是100的原因：原来是这部分是100，取反以后变成011，加1必然导致进位变成100，这部分就跟原码一样了</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/d6ej2vfibs2cw_0e3e13be2c8747bca5abc8a7b8cbd77d.webp" alt="d6ej2vfibs2cw_0e3e13be2c8747bca5abc8a7b8cbd77d"></p>
<p>-26<img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707201312846.png" alt="image-20240707201312846"></p>
<h4 id="逻辑移位"><a href="#逻辑移位" class="headerlink" title="逻辑移位"></a>逻辑移位</h4><p>把整个数看成一个无符号数，右移，高位补0低位舍弃，左移高位舍弃低位补0</p>
<h4 id="循环移位"><a href="#循环移位" class="headerlink" title="循环移位"></a>循环移位</h4><p>顾名思义</p>
<h3 id="定点加减法"><a href="#定点加减法" class="headerlink" title="定点加减法"></a>定点加减法</h3><p>补码加减法公式</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707211623774.png" alt="image-20240707211623774"></p>
<p>补码 负数跟正数 遵循模32规则，所以能进行加减</p>
<p>5-3⇔5+负三补码，此时算出来的补码就是一个正数，正数可以理所当然参与运算，并且是每一位都可以，</p>
<p><strong>溢出？</strong></p>
<p><strong>一位符号位</strong>：两个操作数符号相同，结果符号与原来不同</p>
<p>最高有效位进位⊕符号位进位 = 1</p>
<p><strong>两位符号位：</strong> </p>
<p>两个符号位异或</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707215559303.png" alt="image-20240707215559303"></p>
<ol>
<li><p>正数加正数：</p>
<p>如00，1111➕00，1000，此时的运算结果就为01，0111。</p>
<p>很明显，这发生了正溢出，因为在数值位只有4位，能表示的最大数值为1111，而运算结果显然超出了该范围，于是产生了像符号位的进位，造成上溢出。</p>
</li>
<li><p>负数加负数：</p>
<p>如11，1111➕11，1000，此时的运算结果就为11，0111。</p>
<p>显然，这没有发生了溢出，其原因是在负数补码中，高位的1相当于原码的0，于是如果两个操作数的数值位最高位都是1的话，是一定不会引起操作数溢出的，与正数两个最高位为0相加，不会发生溢出是一样的。如果，有其中一个为0的话，如果次高位传来进位，依旧可以保证对符号位的进位，也就是保证符号位不会发生变化，从而避免了溢出。</p>
</li>
</ol>
<p>如果最高位为0就要小心溢出</p>
<p>低位必须产生进位，低位不进位肯定溢出</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240707221233780.png" alt="image-20240707221233780"></p>
<h3 id="定点乘除法"><a href="#定点乘除法" class="headerlink" title="定点乘除法"></a>定点乘除法</h3><ul>
<li><p>原码一位乘：先加后右移，加4次移4次</p>
<p>看最后一位，1加的是原数，0不加</p>
</li>
<li><p>补码一位乘：先加后右移，加5次移4次</p>
<p>看最后两位，01加X补码，10加(-X)补码，11和00不加</p>
</li>
<li><p>原码定点除：先加后左移，加4次移4次</p>
<p>先加(-X)补码，差值正上1，加(-X)补码得到新差值；差值负上0，加X补码得到新差值，直到商有效位够4位</p>
</li>
<li><p>补码定点除：先看同号否，同号r为x-y，异号r为x+y，</p>
<p>ry同号上1，同时左移，加-y补得到新r，ry异号上0，同时左移，加y补得到新r，再比较同号否</p>
<p>加，上商，左移</p>
<p>上了四次商之后，同时左移，商末位恒为1</p>
<p>加4移5</p>
</li>
</ul>
<h3 id="原码定点一位乘"><a href="#原码定点一位乘" class="headerlink" title="原码定点一位乘"></a>原码定点一位乘</h3><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708143456210.png" alt="image-20240708143456210"></p>
<h3 id="补码定点一位乘（Booth）"><a href="#补码定点一位乘（Booth）" class="headerlink" title="补码定点一位乘（Booth）"></a>补码定点一位乘（Booth）</h3><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708143522928.png" alt="image-20240708143522928"></p>
<h3 id="原码定点除法"><a href="#原码定点除法" class="headerlink" title="原码定点除法"></a>原码定点除法</h3><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708143557760.png" alt="image-20240708143557760"></p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708143611525.png" alt="image-20240708143611525"></p>
<h3 id="补码定点除法"><a href="#补码定点除法" class="headerlink" title="补码定点除法"></a>补码定点除法</h3><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708143628562.png" alt="image-20240708143628562"></p>
<p>加4移5</p>
<h2 id="浮点运算"><a href="#浮点运算" class="headerlink" title="浮点运算"></a>浮点运算</h2><h3 id="浮点加减法"><a href="#浮点加减法" class="headerlink" title="浮点加减法"></a>浮点加减法</h3><h4 id="S1-对阶"><a href="#S1-对阶" class="headerlink" title="S1:对阶"></a>S1:对阶</h4><p>大阶对小阶，大阶左移丢1，如果是正数的话就是数据错误所以小对大</p>
<p>求阶差</p>
<p><strong>小阶对大阶，小阶右移丢1影响较小</strong> 尾数右移1位，阶码加1.</p>
<h4 id="S2-尾数求和"><a href="#S2-尾数求和" class="headerlink" title="S2:尾数求和"></a>S2:尾数求和</h4><p>对阶移位完的尾数进行求和，按照定点补码加减法规则进行求和</p>
<h4 id="S3-尾数规格化"><a href="#S3-尾数规格化" class="headerlink" title="S3:尾数规格化"></a>S3:尾数规格化</h4><p>r=2 尾数绝对值0.5~1</p>
<p>r=4 0.25~1</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708145911043.png" alt="image-20240708145911043"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708150126481.png" alt="image-20240708150126481"></p>
<p>-1/2要进行左规</p>
<h5 id="左规-相当于乘2"><a href="#左规-相当于乘2" class="headerlink" title="左规 相当于乘2"></a>左规 相当于乘2</h5><p>当尾数出现00.0𝑥𝑥⋯𝑥或11.1𝑥𝑥⋯𝑥时，尾数左移，阶码减1，直到数符(正负号)和第一有效数位不同</p>
<h5 id="右规-相当于除2"><a href="#右规-相当于除2" class="headerlink" title="右规 相当于除2"></a>右规 相当于除2</h5><p>尾数右移，阶码加1，直到数符(正负号)和第一有效数位不同</p>
<p>尾数溢出(&gt;1)的时候需要右规</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708150440008.png" alt="image-20240708150440008"></p>
<h4 id="S4-舍入"><a href="#S4-舍入" class="headerlink" title="S4:舍入"></a>S4:舍入</h4><p>对阶和右规过程中，可能会出现尾数末位丢1的情况，影响精度，考虑舍入。简单截断可以</p>
<p>1)0舍1入：即在尾数右移时，被移去的最高数值位为0，则舍去;被移去的最高数值位为1，则在尾数的末位加1。这样做可能会使尾数又溢出，此时需再做一次右规。</p>
<p>2)末位恒置“1”：尾数右移时，不论丢掉的最高数值位是“1”还是“O”，都使右移后的尾数末位恒置“1”。这种方法同样有使尾数变大和变小的两种可能。</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708151934259.png" alt="image-20240708151934259"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708151949418.png" alt="image-20240708151949418"></p>
<h4 id="S5-溢出判断"><a href="#S5-溢出判断" class="headerlink" title="S5:溢出判断"></a>S5:溢出判断</h4><p> 与定点数加减法一样，浮点数加减运算最后一步也需判断溢出。</p>
<p>在浮点数规格化中已指出，当尾数之和（差）出现01.×××或10.xxx时，<strong>并不表示溢出，</strong>只能将此数右规后，再根据阶码来判断浮点数运算结果是否溢出。</p>
<p>浮点数的溢出与否是由阶码的符号决定的。以双符号位补码为例，当阶码的符号位出现“01”时，即阶码大于最大阶码时，表示上溢，进入中断处理;当阶码的符号位出现“10”时，即阶码小于最小阶码时，表示下溢，按机器零处理。实际上原理还是阶码符号位不同表示溢出，且真实符号位和高位符号位一致。 </p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708153404896.png" alt="image-20240708153404896"></p>
<p>最大负数：11.1000…..0 表示-1/2但它不是规格化数，11.0111…..1,应该变小一点,减去2^-n^。尾数原来是-1/2，最后尾数变成-(1/2+2^-n^)</p>
<p>负数的补码应该是100000加到111111，越加越大，所以要从110000变成101111就要减去一个最小单位</p>
<h4 id="误差分析"><a href="#误差分析" class="headerlink" title="误差分析"></a>误差分析</h4><p>尾数溢出，右规丢1会引起误差</p>
<p>对阶，小对大，右移丢1会引起误差</p>
<h3 id="ALU-算数逻辑单元"><a href="#ALU-算数逻辑单元" class="headerlink" title="ALU-算数逻辑单元"></a><span id="jump">ALU-算数逻辑单元</span></h3><p><strong>A</strong>rithmetic <strong>L</strong>ogic <strong>U</strong>nit</p>
<h4 id="ALU电路"><a href="#ALU电路" class="headerlink" title="ALU电路"></a>ALU电路</h4><p>组合逻辑电路 74181 控制端 CLA</p>
<p>需要寄存器保存结果</p>
<p>M=0，M=1 算数运算和逻辑运算</p>
<p>S3~S0 不同取值 可以做不同运算</p>
<h4 id="快速进位"><a href="#快速进位" class="headerlink" title="快速进位"></a>快速进位</h4><h5 id="并行加法器"><a href="#并行加法器" class="headerlink" title="并行加法器"></a>并行加法器</h5><p>A和B两个数可以同时加进来，然后进行运算，四个位各自算各自的e</p>
<p>很多全加器接在一起</p>
<h5 id="串行进位-Ripple-Carry"><a href="#串行进位-Ripple-Carry" class="headerlink" title="串行进位 Ripple Carry"></a>串行进位 Ripple Carry</h5><p>Propagate &amp; Generate</p>
<p>P<del>i</del> = A<del>i</del>⊕B<del>i</del> , G<del>i</del> = A<del>i</del>B<del>i</del></p>
<p>C<del>i</del> = A<del>i</del>B<del>i</del> + C<del>i-1</del>(A<del>i</del>⊕B<del>i</del>) </p>
<p>​    =G<del>i</del> + P<del>i</del>C<del>i-1</del>    ，C<del>-1</del> = 0 </p>
<p>S<del>i</del> = A<del>i</del>⊕B<del>i</del>⊕C<del>i</del> </p>
<h5 id="并行进位（超前进位）-LookAhead-Carry"><a href="#并行进位（超前进位）-LookAhead-Carry" class="headerlink" title="并行进位（超前进位） LookAhead Carry"></a>并行进位（超前进位） LookAhead Carry</h5><p>C<del>i</del> =G<del>i</del> + P<del>i</del>C<del>i-1</del> ，C<del>-1</del> = 0</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708162300561.png" alt="image-20240708162300561"></p>
<p>用电路复杂度换取速度</p>
<p>按照公式可以计算出C0到C3的结果</p>
<p>S<del>i</del> = A<del>i</del>⊕B<del>i</del>⊕C<del>i</del> </p>
<h5 id="单重分组跳跃进位链"><a href="#单重分组跳跃进位链" class="headerlink" title="单重分组跳跃进位链"></a>单重分组跳跃进位链</h5><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708162814971.png" alt="image-20240708162814971"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708170057566.png" alt="image-20240708170057566"></p>
<p>折中的办法，组内先行进位，组外采用串行进位，C0-C3同时产生</p>
<h5 id="双重分组跳跃进位链"><a href="#双重分组跳跃进位链" class="headerlink" title="双重分组跳跃进位链"></a>双重分组跳跃进位链</h5><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708163024193.png" alt="image-20240708163024193"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708171039868.png" alt="image-20240708171039868"></p>
<p>小组的最高位进位并行产生，大组之间采用串行</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708165658159.png" alt="image-20240708165658159"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708163546185.png" alt="image-20240708163546185"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708165732848.png" alt="image-20240708165732848"></p>
<p>这种电路称为成组先行进位电路（BCLA)。利用这种4位的 BCLA电路及进位产生与传递电路和求和电路可以构成4位BCLA加法器。16位的两级先行进位加法器可由4个BCLA加法器和1个CLA电路构成，如图2.18所示。</p>
<p>这种方法可以扩展到多于两级的先行进位加法器，如用三级先行进位结构设计64位加法器这种加法器的优点是字长对加法时间影响甚小;缺点是造价较高。</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708174638709-1720432067641-1.png" alt="image-20240708174638709"></p>
<h1 id="指令系统"><a href="#指令系统" class="headerlink" title="指令系统"></a>指令系统</h1><p>指令系统连接软件和硬件</p>
<h2 id="机器指令"><a href="#机器指令" class="headerlink" title="机器指令"></a>机器指令</h2><p>指令= 操作码+地址码</p>
<p><strong>操作码长度</strong>可以固定，用于指令字长比较长的情况，也可以变化比如X86</p>
<p>为了使操作码扩展，可以让操作码的位数随地址码的减少而增加。</p>
<p>在设计扩展操作码指令格式时，必须注意以下两点:</p>
<ol>
<li><p>不允许短码是长码的前缀，即短操作码不能与长操作码的前面部分的代码相同。</p>
</li>
<li><p>各指令的操作码一定不能重复。通常情况下，对使用频率较高的指令分配较短的操作码，对使用频率较低的指令分配较长的操作码，从而尽可能减少指令译码和分析的时间。</p>
</li>
</ol>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708183944205.png" alt="image-20240708183944205"></p>
<p>按照<strong>操作数地址码个数可</strong>以分为：</p>
<p>操作数地址码的长度一般是一样的,如果长度为8,寻址范围就是2^8^ 个.</p>
<p>零地址:  OP</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708183415639.png" alt="image-20240708183415639"></p>
<p>3)让(ACC)OP-&gt;(ACC) ACC自加</p>
<p>一地址: OP+A1</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708183401932.png" alt="image-20240708183401932"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708184734580.png" alt="image-20240708184734580"></p>
<p>二地址: OP+A1+A2</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708183546042.png" alt="image-20240708183546042"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708184553805.png" alt="image-20240708184553805"></p>
<p>ACC代替A1/A2,</p>
<p>三地址:OP+A1+A2+A3(结果)</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708183600178.png" alt="image-20240708183600178"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708184345766.png" alt="image-20240708184345766"></p>
<p>四地址: OP+A1+A2+A3(结果)+A4(下个地址)</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708183706661.png" alt="image-20240708183706661"></p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708184255485.png" alt="image-20240708184255485"></p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708184358949.png" alt="image-20240708184358949"></p>
<p>寻址范围从上到下逐渐降低</p>
<p><strong>指令字长</strong></p>
<p>指令长度和机器字长没有必然联系，指令长度等于机器字长 单子长指令，等于半个机器字长 半字长指令， 等于2个机器字长 双字长指令</p>
<p>指令长度相等，<strong>定长指令字</strong>，长度因功能而异，称为<strong>变长指令字</strong>结构，通常都是按照字节的倍数变化</p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>用硬件资源(ACC)代替指令字中的地址码字段：</p>
<ul>
<li>扩大指令寻址范围（指令长度固定，地址码长度增加，能够操作的地址长度变多）</li>
<li>缩短指令字长（地址码长度不变，指令长度固定，但是地址码的个数变少，能够缩短整体的字长）</li>
<li>减少访<strong>存</strong>次数 ACC代替操作数，ACC代替结果，都能减少访存次数</li>
</ul>
<p>指令的地址字段为寄存器：</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708185921002.png" alt="image-20240708185921002"></p>
<ul>
<li>指令执行阶段，可以不访存</li>
</ul>
<h2 id="操作数"><a href="#操作数" class="headerlink" title="操作数"></a>操作数</h2><h3 id="操作数类型"><a href="#操作数类型" class="headerlink" title="操作数类型"></a>操作数类型</h3><p>地址：无符号整数</p>
<p>数字：定点数、浮点数、十进制数</p>
<p>字符：ASCII</p>
<p>逻辑数：逻辑运算</p>
<h3 id="存放数据的方式"><a href="#存放数据的方式" class="headerlink" title="存放数据的方式"></a>存放数据的方式</h3><p>前提：按照字节编址每一个地址能存放一个字节</p>
<p>机器字长=CPU寄存器位数</p>
<p>存放一个机器字的存储单元，通常称为字存储单元，相应的单元地址称为字地址。而存放一字节的单元，称为字节存储单元，相应的地址称为字节地址。</p>
<p>编址方式是存储器地 址的组织方式，一般在设计处理器时就已经确定了。如果计算机中编址的<u>最小单位</u>是字存储单元，则该计算机称为<u>按字编址</u>的计算机。如果计算机中编址的最小单位是字节，则该 计算机称为<u>按字节编址</u>的计算机。一个机器字可以包含数字节，所以<u>一个存储单元也可占用数个能够单独编址的字节地址。</u> </p>
<h5 id="高地址和低地址"><a href="#高地址和低地址" class="headerlink" title="高地址和低地址"></a>高地址和低地址</h5><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708190353466.png" alt="image-20240708190353466"></p>
<h5 id="高字节和低字节"><a href="#高字节和低字节" class="headerlink" title="高字节和低字节"></a>高字节和低字节</h5><p>如int a=16777220，化为十六进制是0x 01 23 45 67，<strong>则04属于低字节，01属于高字节</strong> 是按照字节的位置区分的</p>
<h5 id="大小端"><a href="#大小端" class="headerlink" title="大小端"></a>大小端</h5><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708190959696.png" alt="image-20240708190959696"></p>
<p>低字节存在高地址 大端，字地址在高字节的地址</p>
<table>
<thead>
<tr>
<th>地址</th>
<th>字节数据</th>
</tr>
</thead>
<tbody><tr>
<td>0x0004</td>
<td>67</td>
</tr>
<tr>
<td>0x0003</td>
<td>45</td>
</tr>
<tr>
<td>0x0002</td>
<td>23</td>
</tr>
<tr>
<td>0x0001</td>
<td>01</td>
</tr>
</tbody></table>
<p>低字节存在低地址 小端，字地址在低字节的地址</p>
<table>
<thead>
<tr>
<th>地址</th>
<th>字节数据</th>
</tr>
</thead>
<tbody><tr>
<td>0x0004</td>
<td>01</td>
</tr>
<tr>
<td>0x0003</td>
<td>23</td>
</tr>
<tr>
<td>0x0002</td>
<td>45</td>
</tr>
<tr>
<td>0x0001</td>
<td>67</td>
</tr>
</tbody></table>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708191237400.png" alt="image-20240708191237400"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708191301932.png" alt="image-20240708191301932"></p>
<p><strong>边界对准</strong> </p>
<p><strong>按照字节编址</strong>，寻址时可以按照字，半字，字节。一个字是4个字节，字的地址就是4的倍数，半字的地址就是2的倍数，字节随便存。</p>
<p>存储字长：一个存储单元中存储的位数。要提高访存速度，就要在一个存储字长放入尽可能多且完整的的存储单位。</p>
<p>一个存储字中最多容纳4个地址，分别指向4个字节，半字只能存到字的开始或中间，全字必须独占一个存储单元。浪费了一些空间，但是不会造成同一个数据的分散，能够提高存取速度。</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708192833186.png" alt="image-20240708192833186"></p>
<p>边界不对齐就会导致同一个字会存储到不同的存储单元中，导致访存次数增多，还要进行数据拼接等繁冗工作。</p>
<p><strong>存储单元：每个存储单元 存放一串 二进制代码</strong></p>
<p>存储单元 和 内存单元 是不一样的，内存单元是 存储单元的 子集。多个 内存单元 可以组成 一个 存储单元。</p>
<p><strong>存储字（word）：存储单元中 二进制代码的组合</strong> </p>
<p><strong>存储字长：存储单元中 二进制代码的 位数。</strong> </p>
<p><strong>存储元：即存储一个二进制数的电子元件，每个存储元可以存储 1 bit。多个存储元 就可以 构成一个 内存单元。（由电容原理 制作出来的东西，因为电容可以 存储电荷呀 ~）</strong> </p>
<p>在这里 我们说的 存储字和存储字长，实际上 说的是 MDR 这个东西。<br>也就是这个 寄存器。它能存储 多大的数据。</p>
<p>所以我们也常说，存储字长 在 不同的硬件上 会 不一样。</p>
<h3 id="操作类型"><a href="#操作类型" class="headerlink" title="操作类型"></a>操作类型</h3><p>数据传送，算术和逻辑运算，移位操作，转移操作(JMP,CALL,RET<del>turn</del>,TRAP)，输入输出操作与外部IO交换数据</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708213502481.png" alt="image-20240708213502481"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708213509455.png" alt="image-20240708213509455"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708213516901.png" alt="image-20240708213516901"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708213527974.png" alt="image-20240708213527974"></p>
<h2 id="指令的寻址方式"><a href="#指令的寻址方式" class="headerlink" title="指令的寻址方式"></a>指令的寻址方式</h2><p>确定<u>本条指令的数据地址</u>和<u>下条待执行指令</u>的地址。</p>
<p>可以通过<strong>指令寻址</strong>，也可以通过<strong>数据寻址</strong>。 </p>
<p>操作码之后是<strong>寻址特征位</strong>，共采用的特征总和，分别编码表示即可。<img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/20210515135546230.png" alt="20210515135546230"></p>
<p>指令中的地址码字段并不代表操作数的真实地址，这种地址称为 形式地址形式地址 (A)。形式地址结合寻址方式，可以计算出操作数在存储器中的真实地址，这种地址称为 有效地址有效地址 （EA)。</p>
<p>注意，(A)表示地址为A的数值，A既可以是寄存器编号，也可以是内存地址。对应的(A)就是寄存器中的数值，或相应内存单元的数值。例如，EA=(A)意思是有效地址是地址A中的数值。</p>
<h3 id="指令寻址方式"><a href="#指令寻址方式" class="headerlink" title="指令寻址方式"></a>指令寻址方式</h3><h4 id="顺序"><a href="#顺序" class="headerlink" title="顺序"></a>顺序</h4><p><strong>累加寄存器 ACC</strong>：它是一个同通用寄存器，其功能是：当 ALU 执行算术或逻辑运算时，为 ALU 提供一个工作区，ACC 暂时存放 ALU 运算的结果信息。显然，运算器中至少要有一个累加寄存器</p>
<p><span id = "jump4"><strong>PC</strong></span>寄存器用来存储<strong>指向下一条指令的地址</strong>，当执行一条指令时，首先需要根据PC中存放的指令地址，将指令由内存取到指令寄存器IR中，此过程称为“取指令”。与此同时，PC中的地址或自动加1或由转移指针给出下一条指令的地址。此后经过分析指令，执行指令。完成第一条指令的执行，而后根据PC取出第二条指令的地址，如此循环，执行每一条指令。</p>
<p><span id="jump5">IR</span>用来保存<strong>当前正在执行的一条指令。</strong> 当执行一条指令时，先把它从内存取到数据寄存器（DR，Data Register）中，然后再传送至IR。</p>
<p>GR 通用寄存器可用于传送和暂存数据，也可参与算术逻辑运算，并保存运算结果。除此之外，它们还各自具有一些特殊功能。通用寄存器的长度取决于机器字长，汇编语言程序员必须熟悉每个寄存器的一般用途和特殊用途，只有这样，才能在程序中做到正确、合理地使用它们。</p>
<p>PC+ “1” -&gt; PC , 指令长度是4个字节，“1”就是4，指令长度是8个字节，“1”就是8，自动形成下一条指令的地址(这里是指指令的纵向长度) </p>
<h4 id="跳跃"><a href="#跳跃" class="headerlink" title="跳跃"></a>跳跃</h4><p> 通过转移类指令实现。所谓跳跃，是指下条指令的地址码不由程序计数器给出，而由本条指令给出下条指令地址的计算方式。注意，是否跳跃可能受到状态寄存器和操作数的控制，而跳跃到的地址分为绝对地址（由标记符直接得到)和相对地址（相对于当前指令地址的偏移量)，跳跃的结果是当前指令修改PC值，所以下一条指令仍然通过程序计数器（PC）给出。 </p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708200915099.png" alt="image-20240708200915099"></p>
<h3 id="数据寻址方式"><a href="#数据寻址方式" class="headerlink" title="数据寻址方式"></a>数据寻址方式</h3><p><strong>EA</strong>地址存放了操作数</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708201119571.png" alt="image-20240708201119571"></p>
<ol>
<li><p>立即寻址 </p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708201151183.png" alt="image-20240708201151183"></p>
<p>指令执行时间最短，但是A的位数限制了立即数的范围</p>
</li>
<li><p>直接寻址 EA=A </p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708201407246.png" alt="image-20240708201407246"></p>
<p>A就是地址，A的范围决定了寻址范围。</p>
</li>
<li><p>隐含寻址 A是一个操作数的地址 </p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708201701155.png" alt="image-20240708201701155"></p>
<p>这里规定硬件ACC是第二操作数的地址，对于这种一地址指令，访存1次，零地址指令操作数是默认保存在一个寄存器中的。</p>
</li>
<li><p>间接寻址 指令的地址字段给出的形式地址不是操作数的真正地址，而是操作数有效地址所在的存储单元的地址，也就是操作数地址的地址，即 EA =(A) 还可以通过多次简介寻址 EA=((A))</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708210033847.png" alt="image-20240708210033847"></p>
<p>主存字第一位为1时，表示取出的仍不是操作数的地址，即多次间址;主存字第一位为0时，表示取得的是操作数的地址。</p>
</li>
<li><p>寄存器寻址 EA=R<del>i</del> </p>
<p>指令字中给出操作数所在的寄存器编号R<del>i</del> ,操作数存在寄存器Ri内。</p>
<p>不用访存，速度快，但是价格昂贵，寄存器数量有限</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708211427010.png" alt="image-20240708211427010"></p>
</li>
<li><p>寄存器间接寻址 EA = (Ri)</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708211440882.png" alt="image-20240708211440882"> 需要访问主存</p>
</li>
<li><p>相对寻址 EA = (PC)+A</p>
<p>A是相对于当前指令地址的地址，相对寻址的优点是操作数的地址不是固定的，它随PC值的变化而变化，且与指令地址之间总是相差一个固定值，因此便于程序浮动。相对寻址广泛应用于转移指令，比如JMP。 </p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708212522800.png" alt="image-20240708212522800"></p>
<p>执行一条指令就是读取(PC)然后PC+”1”，那么运用相对寻址的时候，取完这条指令就已经+”1”了，相对位移量是A，所以转移到的地址是(PC)+”1”+A</p>
</li>
<li><p>基址寻址 EA =(BR)+ A</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708215640792.png" alt="image-20240708215640792"></p>
<p>面向操作系统，由操作系统确定(BR), 一般是不可变的,A可变</p>
</li>
<li><p>变址寻址 EA = (IX)+A</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708215930568.png" alt="image-20240708215930568"></p>
<p>面向用户，(IX)可变，A不可变</p>
</li>
</ol>
<p>不需要访存的：</p>
<ul>
<li>立即寻址 （A就是操作数）</li>
<li>隐含寻址（操作数可以隐含保存在特定寄存器中）</li>
<li>寄存器寻址（操作数保存在寄存器中）</li>
</ul>
<p>需要访存2次：</p>
<ul>
<li>一次间接寻址（EA=(A) A先访存1次，然后根据(A)再访存1次）</li>
</ul>
<p>以上不包含为了取本条指令而做的访存</p>
<ol start="10">
<li>堆栈寻址</li>
</ol>
<blockquote>
<p>堆栈是存储器（或专用寄存器组）中一块特定的、按后进先出（LIFO）原则管理的存储区，该存储区中读/写单元的地址是用一个特定的寄存器给出的，该寄存器称为堆栈指针(SP)。 堆栈堆栈 可分为 硬堆栈硬堆栈 与 软堆栈软堆栈 两种。</p>
</blockquote>
<blockquote>
<p>寄存器堆栈又称硬堆栈。寄存器堆栈的成本较高，不适合做大容量的堆栈;而从主存中划出一段区域来做堆栈是最合算且最常用的方法，这种堆栈称为软堆栈。</p>
</blockquote>
<blockquote>
<p>在采用堆栈结构的计算机系统中，大部分指令表面上都表现为无操作数指令的形式，因为操作数地址都隐含使用了SP。通常情况下，在读/写堆栈中的一个单元的前后都伴有自动完成对SP内容的增量或减量操作。</p>
</blockquote>
<p>Example</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708222527779.png" alt="image-20240708222527779"></p>
<p>1）寄存器-存储器（R-S）指令格式：操作码OPcode+寄存器位R+特征位+形式地址A</p>
<p>32个寄存器，编号需要5位，64种操作-&gt;操作码6位000000-111111，特征位由于只有直接或间接寻址，所以只要1位特征位即可，剩下即为形式地址。</p>
<p>OP(6)+R(5)+特征位(1)+A(20)</p>
<p>20位形式地址，最多直接寻址的空间为1M存储字，</p>
<p>如果是间接寻址就可以扩大寻址空间，最多到2^32^=4G字</p>
<p>2）通用寄存器，寻址方式多了一种基址方式，基址寄存器中的内容是特定不变的，OP(6)+R(5)+特征位(2)+A(19)？但是应该指明用哪一个通用寄存器作为基址寄存器</p>
<p>OP(6)+R(5)+特征位(2)+BR(5)+A(14)</p>
<p>通用寄存器有32位，所以使用基址寻址的最大寻址空间=2^32^=4G字，仅仅与基址位数有关 </p>
<h2 id="指令格式"><a href="#指令格式" class="headerlink" title="指令格式"></a>指令格式</h2><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708221826452.png" alt="image-20240708221826452"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708222151040.png" alt="image-20240708222151040"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708222202564.png" alt="image-20240708222202564"></p>
<h2 id="RISC"><a href="#RISC" class="headerlink" title="RISC"></a>RISC</h2><p><strong>R</strong>educed <strong>I</strong>nstruction <strong>S</strong>et <strong>C</strong>omputer 精简指令集计算机</p>
<p>与C<del>(omplex)</del>ISC相对</p>
<p>二八定律</p>
<p><strong>RISC:</strong> </p>
<ul>
<li>指令长度固定，指令格式种类少，寻址方式少；</li>
<li>只使用LOAD STORE访存，通用寄存器较多；</li>
<li>流水线技术，一个时钟周期内完成一条指令；</li>
<li>控制器运用组合逻辑。</li>
</ul>
<p><strong>CISC:</strong> </p>
<ul>
<li>指令庞杂，指令使用频度相差较大，长度不固定，种类多</li>
<li>很多指令可以访存</li>
<li>CPU有专用寄存器</li>
<li>大部分指令都需要多个时钟周期完成</li>
<li>采用微程序控制器</li>
</ul>
<p>值得注意的是，从指令系统兼容性看，CISC大多能实现软件兼容，即高档机包含了低档机的全部指令，并可加以扩充。但RISC简化了指令系统，指令条数少，格式也不同于老机器，因此大多数RISC机不能与老机器兼容。由于 RISC具有更强的实用性，因此应该是未来处理器的发展方向。但事实上，当今时代Intel 几乎一统江湖，且早期很多软件都是根据CISC 设计的，单纯的RISC将无法兼容。此外，现代CISC结构的CPU已经融合了很多RISC的成分，其性能差距已经越来越小。CISC可以提供更多的功能，这是程序设计所需要的。</p>
<p>RISC利用VLSI芯片的面积，便于设计，降低成本，提高可靠性，但是不容易实现指令系统的兼容</p>
<h1 id="CPU"><a href="#CPU" class="headerlink" title="CPU"></a>CPU</h1><h2 id="CPU的结构"><a href="#CPU的结构" class="headerlink" title="CPU的结构"></a>CPU的结构</h2><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708235618670.png" alt="image-20240708235618670"></p>
<p>指令控制 PC IR </p>
<p>操作控制、时间控制 CU 时序电路</p>
<p>数据加工 ALU (运算器) + 寄存器</p>
<p>中断处理 中断系统</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240708235920709.png" alt="image-20240708235920709"></p>
<h3 id="CPU的寄存器"><a href="#CPU的寄存器" class="headerlink" title="CPU的寄存器"></a>CPU的寄存器</h3><h4 id="用户可见寄存器"><a href="#用户可见寄存器" class="headerlink" title="用户可见寄存器"></a>用户可见寄存器</h4><p>通用寄存器 <strong>G</strong>eneral <strong>R</strong>egister</p>
<ul>
<li>存放操作数</li>
<li>作为某种寻址方式所需要的专用寄存器</li>
</ul>
<p>数据寄存器 <strong>D</strong>ata <strong>R</strong>egister</p>
<ul>
<li>存放多种操作数（多种数据类型）</li>
<li>两个寄存器拼接存放双倍字长的数据[ACC和MQ]</li>
</ul>
<p>地址寄存器</p>
<ul>
<li>存放地址，位数满足最大的地址的范围，用于特殊的寻址方式，段基值，栈指针</li>
</ul>
<p>条件码寄存器 </p>
<ul>
<li>存放条件码，作为程序分支的依据，入如正负零，溢出，进位</li>
</ul>
<h4 id="控制和状态寄存器"><a href="#控制和状态寄存器" class="headerlink" title="控制和状态寄存器"></a>控制和状态寄存器</h4><p>控制寄存器</p>
<ul>
<li><a href="#jump4">PC</a>-&gt;<strong>MAR</strong>-&gt;M-&gt;<strong>MDR</strong>-&gt;<strong><a href="#jump5">IR</a></strong> 加粗为用户不可见，PC用户可以读到</li>
<li>MAR用于存储地址</li>
<li>MDR用于暂存数据</li>
</ul>
<p>状态寄存器</p>
<ul>
<li>存放条件码</li>
<li>PSW 存放程序状态字，中断服务程序或者子程序，为了保存运行现场和断点。</li>
</ul>
<h4 id="控制单元CU和中断系统"><a href="#控制单元CU和中断系统" class="headerlink" title="控制单元CU和中断系统"></a>控制单元CU和中断系统</h4><p><a href="#jump2">CU</a></p>
<ul>
<li>产生全部指令的微操作命令序列</li>
<li>组合逻辑(RISC) 硬连线逻辑</li>
<li>微程序设计 存储逻辑</li>
</ul>
<p><a href="#jump3">中断系统</a></p>
<h4 id="ALU"><a href="#ALU" class="headerlink" title="ALU"></a><a href="#jump">ALU</a></h4><h2 id="指令周期"><a href="#指令周期" class="headerlink" title="指令周期"></a>指令周期</h2><ul>
<li>指令周期=取址周期</li>
<li>指令周期=取址周期+执行周期(等长)</li>
<li>指令周期=取址周期+执行周期(长一些)</li>
<li>间接寻址的指令周期=取址周期+<u>间址周期</u>+执行周期</li>
<li>中断周期的指令周期=取址周期+<u>间址周期</u>+执行周期+中断周期</li>
</ul>
<p>流程：</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709132917427.png" alt="image-20240709132917427"></p>
<p>CPU访存有4种性质</p>
<ul>
<li>取 指令         取指周期</li>
<li>取 地址         间址周期</li>
<li>存取 操作数  执行周期</li>
<li>存 程序断点  中断周期</li>
</ul>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709134249611.png" alt="image-20240709134249611"></p>
<h3 id="数据流"><a href="#数据流" class="headerlink" title="数据流"></a>数据流</h3><h4 id="取指周期"><a href="#取指周期" class="headerlink" title="取指周期"></a>取指周期</h4><p>PC寄存器存的是下一条指令的地址，CU通过控制总线，控制地址通过MAR传到地址总线，（读命令）地址总线传到存储器，控制存储器将对应的数据（指令）通过数据总线传到MDR，最后保存到CPU的IR寄存器中。CU控制PC寄存器的值+“1” </p>
<h4 id="间址周期"><a href="#间址周期" class="headerlink" title="间址周期"></a>间址周期</h4><p>假设取完指令以后将形式地址A保存到了MDR，此时A的值传给MAR，通过地址总线传给存储器，CU控制总线让存储器取出A中保存的数据(A)也就是EA，EA保存到MDR，操作数的真实地址EA最后保存到了IR的地址码部分</p>
<h4 id="执行周期"><a href="#执行周期" class="headerlink" title="执行周期"></a>执行周期</h4><h4 id="中断周期"><a href="#中断周期" class="headerlink" title="中断周期"></a>中断周期</h4><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709151019317.png" alt="image-20240709151019317"></p>
<p>保存断点，形成中断服务程序的入口地址（中断向量），硬件关中断</p>
<p>保存程序<strong>断点</strong>，CU来确定将程序断点保存到内存的哪个地址，传给MAR，存储器，CU再控制总线操控存储器进行写入断点的操作，由于响应中断一定是在执行完一条指令之后，所以下一条指令还没有取到，下一条指令的地址就是(PC)，将PC存储的值送到MDR，再通过数据总线写入存储器。</p>
<p>形成中断服务程序的<strong>入口地址</strong>：CU给出送到PC</p>
<p>(关中断)</p>
<h3 id="指令流水"><a href="#指令流水" class="headerlink" title="指令流水"></a>指令流水</h3><h4 id="提高机器速度？"><a href="#提高机器速度？" class="headerlink" title="提高机器速度？"></a>提高机器速度？</h4><p>提高访存速度：Cache 多体并行</p>
<p>提高IO和主机的传送速度：</p>
<ul>
<li>中断，部分时间并行</li>
<li>DMA，几乎全部并行</li>
<li>通道，I/O处理机</li>
<li>多总线</li>
</ul>
<p>提高运算速度：</p>
<ul>
<li>高速芯片，改进算法，快速进位链</li>
</ul>
<p>提高并行性</p>
<h4 id="系统并行"><a href="#系统并行" class="headerlink" title="系统并行"></a>系统并行</h4><p>并行：并发 / 同时。多个事件在同一时间段或同一时刻，并行发生</p>
<p>并行性的等级：</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709152238952.png" alt="image-20240709152238952"></p>
<h4 id="指令流水原理"><a href="#指令流水原理" class="headerlink" title="指令流水原理"></a>指令流水原理</h4><p>CU中取指和执行部件完全独立的两个部件。</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709153256508.png" alt="image-20240709153256508"></p>
<p>二级流水，执行的时候同时取第二条指令</p>
<p><strong>影响因素：</strong></p>
<p>取指时间快的话，指令2的执行就要空等。</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709153630873.png" alt="image-20240709153630873"></p>
<p>“分支预测” 猜测？</p>
<p><strong>六级流水</strong></p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709153945994.png" alt="image-20240709153945994"></p>
<h4 id="影响性能因素"><a href="#影响性能因素" class="headerlink" title="影响性能因素"></a>影响性能因素</h4><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709154501154.png" alt="image-20240709154501154"></p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709155432711.png" alt="image-20240709155432711"></p>
<p>WAW R3不知道是谁写入的</p>
<p>解决办法 后推、旁路技术</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709160540537.png" alt="image-20240709160540537"></p>
<p>EX阶段就已经给出了结果值，不必待某条指令的执行结果送回到寄存器后，再从寄存器中取出结果。作为下一条指令的源操 作数，而是直接将执行结果送到其他指令所需要的地方</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709160922557.png" alt="image-20240709160922557"></p>
<p>转移指令直到EI结束才知道是否要转移</p>
<h3 id="流水线多发"><a href="#流水线多发" class="headerlink" title="流水线多发"></a>流水线多发</h3><p>一条流水线实现了时间并行性</p>
<p>多条流水线还能体现空间并行性</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709161132636.png" alt="image-20240709161132636"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709161651786.png" alt="image-20240709161651786"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709161912171.png" alt="image-20240709161912171"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709174419116.png" alt="image-20240709174419116"></p>
<h3 id="流水线结构"><a href="#流水线结构" class="headerlink" title="流水线结构"></a>流水线结构</h3><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709162228545.png" alt="image-20240709162228545"></p>
<p>运算过程比较复杂的可以使用运算流水线</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709162356672.png" alt="image-20240709162356672"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709163719074.png" alt="image-20240709163719074"></p>
<p>一个任务分割为多个子任务，原则上要求时间上等分，子任务由不同的部件完成，如果不等分，指令1执行过程中取到了指令2，但是指令2必须等到1执行完才开始执行，这就造成了任务的空窗期，造成了时间的浪费</p>
<h2 id="中断系统"><a href="#中断系统" class="headerlink" title="中断系统 "></a><span id= "jump3">中断系统 </span></h2><h3 id="引起中断的因素"><a href="#引起中断的因素" class="headerlink" title="引起中断的因素"></a>引起中断的因素</h3><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709165141178.png" alt="image-20240709165141178"></p>
<h4 id="中断系统解决的问题"><a href="#中断系统解决的问题" class="headerlink" title="中断系统解决的问题"></a>中断系统解决的问题</h4><h5 id="中断请求处理"><a href="#中断请求处理" class="headerlink" title="中断请求处理"></a>中断请求处理</h5><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709165435315.png" alt="image-20240709165435315"></p>
<h5 id="中断判优逻辑"><a href="#中断判优逻辑" class="headerlink" title="中断判优逻辑"></a>中断判优逻辑</h5><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709165718469.png" alt="image-20240709165718469"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709165806996.png" alt="image-20240709165806996"></p>
<h4 id="中断服务程序入口地址"><a href="#中断服务程序入口地址" class="headerlink" title="中断服务程序入口地址"></a>中断服务程序入口地址</h4><p>硬件向量法，速度快，但不灵活</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709165927865.png" alt="image-20240709165927865"></p>
<p>软件查询法，使用中断识别程序</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709170616972.png" alt="image-20240709170616972"></p>
<h4 id="中断响应"><a href="#中断响应" class="headerlink" title="中断响应"></a>中断响应</h4><h5 id="响应条件"><a href="#响应条件" class="headerlink" title="响应条件"></a>响应条件</h5><ul>
<li>允许中断触发器 EINT=1</li>
<li>一条指令执行结束时由CPU发查询信号</li>
</ul>
<h5 id="中断隐指令-硬件实现，并不在指令集中"><a href="#中断隐指令-硬件实现，并不在指令集中" class="headerlink" title="中断隐指令(硬件实现，并不在指令集中)"></a>中断隐指令(硬件实现，并不在指令集中)</h5><ul>
<li><p>保护程序断点</p>
<ul>
<li>断点保存到特定地址</li>
<li>断点进栈</li>
</ul>
</li>
<li><p>寻找服务程序入口地址</p>
<ul>
<li>硬件向量</li>
<li>中断识别程序M-&gt;PC 软件</li>
</ul>
</li>
<li><p>关中断 EINT = 0</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709171350563.png" alt="image-20240709171350563"></p>
</li>
</ul>
<h4 id="保护、恢复现场"><a href="#保护、恢复现场" class="headerlink" title="保护、恢复现场"></a>保护、恢复现场</h4><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709171616344.png" alt="image-20240709171616344"></p>
<h4 id="多重中断"><a href="#多重中断" class="headerlink" title="多重中断"></a>多重中断</h4><ul>
<li><p>提前设置 开中断 指令</p>
</li>
<li><p>优先级高可以打断优先级低的处理程序</p>
</li>
</ul>
<h5 id="中断屏蔽技术"><a href="#中断屏蔽技术" class="headerlink" title="中断屏蔽技术"></a>中断屏蔽技术</h5><p><strong>MASK 触发器</strong> <img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709172308296.png" alt="image-20240709172308296"></p>
<p>屏蔽字<img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709172343892.png" alt="image-20240709172343892"></p>
<p><u>响应</u>优先级不可以改变，<u>处理</u>优先级可以改变<img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709172459205.png" alt="image-20240709172459205"></p>
<p>中断源响应之后会设置各个中断源的屏蔽字MASK[]</p>
<p><strong>应用</strong>：可以人为屏蔽某个中断源</p>
<p><strong>设置新屏蔽字</strong>：保护现场之后，置屏蔽字，然后开中断（为了实现多重中断），进行中断服务，恢复现场和恢复屏蔽字之前要关中断，确保正确恢复，最后开中断，中断返回</p>
<h5 id="断点保护"><a href="#断点保护" class="headerlink" title="断点保护"></a>断点保护</h5><ul>
<li><p>断点进栈</p>
</li>
<li><p>断点存入“0”地址</p>
<ul>
<li><p>CU将“0”地址写入MAR，准备写操作，PC的值写入MDR然后再进入存储器</p>
<p>出现了断点覆盖的问题</p>
</li>
</ul>
</li>
</ul>
<p>保护断点的做法，不同的服务程序将断点保存到不同的地址<img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709173920685.png" alt="image-20240709173920685"></p>
<p>STA(Store Accmulator) SAVE 将ACC原来的值保存到SAVE中</p>
<p>LDA(Load Accumulator) 0将0地址的内容(程序断点)保存到ACC</p>
<p>STA RETURN 将0地址保存到RETURN中</p>
<p>JMP @ RETURN 无条件跳转到RETURN保存的地址</p>
<p>每个SERVE程序 都有不同的RETURN 把0地址的内容转存到各自的RETURN即可</p>
<h1 id="控制单元-CU"><a href="#控制单元-CU" class="headerlink" title="控制单元 CU"></a><span id="jump2">控制单元 CU</span></h1><h2 id="微操作命令分析"><a href="#微操作命令分析" class="headerlink" title="微操作命令分析"></a>微操作命令分析</h2><p>解释指令的过程中，CU发出的操作就叫微操作，比如加法指令，还能继续往下细分。</p>
<p>完成一条指令：取指，间址，执行，中断4个周期</p>
<h5 id="取指周期-1"><a href="#取指周期-1" class="headerlink" title="取指周期"></a><strong>取指周期</strong></h5><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709180027699.png" alt="image-20240709180027699"></p>
<h5 id="间址周期-1"><a href="#间址周期-1" class="headerlink" title="间址周期"></a><strong>间址周期</strong></h5><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709180154460.png" alt="image-20240709180154460"></p>
<h5 id="执行周期-1"><a href="#执行周期-1" class="headerlink" title="执行周期"></a><strong>执行周期</strong></h5><p><strong>非访存指令</strong>(取指+执行)</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709180420712.png" alt="image-20240709180420712"></p>
<p><strong>访存指令</strong>(取指+执行)/(取指+间址+执行)</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709180826769.png" alt="image-20240709180826769"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709180927583.png" alt="image-20240709180927583"></p>
<p><strong>转移指令</strong>(取指+执行)</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709180948619.png" alt="image-20240709180948619"></p>
<p><strong>间接转移</strong>(取指+间址+执行)</p>
<h4 id="中断周期-1"><a href="#中断周期-1" class="headerlink" title="中断周期"></a>中断周期</h4><p>0地址：</p>
<ul>
<li>0地址保存到MAR</li>
<li>1-&gt;W 写</li>
<li>PC -&gt; MDR</li>
<li>MDR-&gt;M(MAR)</li>
<li>向量地址-&gt;PC  /  中断识别程序 M-&gt;PC</li>
<li>0-&gt;EINT</li>
</ul>
<p>断点进栈：</p>
<ul>
<li><p>(SP)-1-&gt;MAR</p>
</li>
<li><p>1-&gt;W 写</p>
</li>
<li><p>PC -&gt; MDR</p>
</li>
<li><p>MDR-&gt;M(MAR)</p>
</li>
<li><p>向量地址-&gt;PC  /  中断识别程序 M-&gt;PC</p>
</li>
<li><p>0-&gt;EINT</p>
</li>
</ul>
<h2 id="控制单元"><a href="#控制单元" class="headerlink" title="控制单元"></a>控制单元</h2><p>发出各种微指令</p>
<h3 id="外特性"><a href="#外特性" class="headerlink" title="外特性"></a>外特性</h3><h4 id="输入信号"><a href="#输入信号" class="headerlink" title="输入信号"></a>输入信号</h4><ol>
<li>时钟 受到clk控制</li>
<li>指令寄存器 控制信号和OPcode有关 用于译码</li>
<li>标志 受标志控制，上一条指令运行结果的标志，能够让CU决定这次运行是否跳转</li>
<li>外来信号 INTR 中断请求、HRQ总线请求</li>
</ol>
<h4 id="输出信号"><a href="#输出信号" class="headerlink" title="输出信号"></a>输出信号</h4><ol>
<li>CPU内的控制信号<ol>
<li>Ri-&gt;Rj</li>
<li>PC+1 -&gt; PC</li>
<li>ALU进行什么运算</li>
</ol>
</li>
<li>送到控制总线的信号<ol>
<li>访存控制信号$\overline{MREQ}$</li>
<li>访IO/存储器控制信号$\overline{IO}/M$</li>
<li>读写命令$\overline{RD}$ $\overline{WR}$</li>
<li>中断响应 INTA</li>
<li>总线响应 HLDA</li>
</ol>
</li>
</ol>
<h3 id="控制信号"><a href="#控制信号" class="headerlink" title="控制信号"></a>控制信号</h3><h4 id="不采用总线"><a href="#不采用总线" class="headerlink" title="不采用总线"></a>不采用总线</h4><p>C0-C8均为门电路的控制</p>
<p>ADD @X</p>
<p>C0: 将PC存储的地址送到MAR</p>
<p>C1: 将MAR的内容送到地址线，发出读命令</p>
<p>C2: 将存储器发回的数据存到MDR</p>
<p>C3: 将MDR保存的指令传到IR</p>
<p>C4: 将IR的操作码部分OP(IR)传到CU,进行译码  取到指令之后寻址特征位发挥作用，如果让IND触发器置1，那么就变成要进入间址周期</p>
<p>C5: 将MDR中保存的形式地址A传到MAR Ad(IR)-&gt; MAR</p>
<p>C1 C2 执行完之后MDR中保存了EA</p>
<p>C3 : EA-&gt;OP(IR)</p>
<p>C5: MDR中地址EA传到MAR</p>
<p>C1 C2 执行完之后MDR中保存了数据X</p>
<p>C6C7: 两个操作数x和acc分别送到ALU中，ALU再接收来自CU的加法信号</p>
<p>C8: ALU的运算结果保存到ACC中</p>
<h4 id="采用总线"><a href="#采用总线" class="headerlink" title="采用总线"></a>采用总线</h4><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709202341142.png" alt="image-20240709202341142"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709203641379.png" alt="image-20240709203641379"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709203902002.png" alt="image-20240709203902002"></p>
<h3 id="多级时序系统"><a href="#多级时序系统" class="headerlink" title="多级时序系统"></a>多级时序系统</h3><h4 id="机器周期"><a href="#机器周期" class="headerlink" title="机器周期"></a>机器周期</h4><p>定义：所有指令执行过程的一个基准时间</p>
<p>因素：指令的执行<strong>步骤</strong>，步骤花费的<strong>时间</strong></p>
<p>基准：以完成<strong>最复杂</strong>指令功能的时间为准，以<strong>访问一次存储器</strong>的时间为基准</p>
<p>指令字长=存储字长 -&gt; 取指周期=机器周期</p>
<h4 id="时钟周期"><a href="#时钟周期" class="headerlink" title="时钟周期"></a>时钟周期</h4><p>一个机器周期完成若干微操作，等分为若干个时钟周期，一个时钟周期能够产生一个或多个(并行)的微操作。最小的时间单位</p>
<h4 id="多级时序"><a href="#多级时序" class="headerlink" title="多级时序"></a>多级时序</h4><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709204627725.png" alt="image-20240709204627725"></p>
<h4 id="主频和速度的关系"><a href="#主频和速度的关系" class="headerlink" title="主频和速度的关系"></a>主频和速度的关系</h4><p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709204732300.png" alt="image-20240709204732300"></p>
<p>流水线同样能加快速度</p>
<h3 id="控制方式"><a href="#控制方式" class="headerlink" title="控制方式"></a>控制方式</h3><p>产生微操作命令序列的时序控制方式</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709204902523.png" alt="image-20240709204902523"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709204952863.png" alt="image-20240709204952863"><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709205235679.png" alt="image-20240709205235679"></p>
<h3 id="控制器"><a href="#控制器" class="headerlink" title="控制器"></a>控制器</h3><h4 id="硬布线控制器"><a href="#硬布线控制器" class="headerlink" title="硬布线控制器"></a>硬布线控制器</h4><p>用复杂的组合逻辑门电路和一些触发器构成</p>
<p>在列出微操作时间表后，综合分析之后，可以将微操作信号的逻辑表达式写出来，</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709211508947.png" alt="image-20240709211508947"></p>
<h4 id="微程序控制器"><a href="#微程序控制器" class="headerlink" title="微程序控制器"></a>微程序控制器</h4><p>微操作是计算机中最小的不可再分的操作，微命令作为微操作的控制信号，微命令之间有相容和相斥两种关系，微命令组成微指令，微指令组成微程序，一条机器指令转化成一个微程序并存入一个专门的存储器，微程序控制器通过取微程序存储器中的微指令并执行</p>
<p>微指令编码方式：直接编码、字段直接编码、字段间接编码</p>
<p><img src="https://pub-9e727eae11e040a4aa2b1feedc2608d2.r2.dev/PicGo/image-20240709232334388.png" alt="image-20240709232334388"></p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/cpu/" rel="tag"># cpu</a>
              <a href="/tags/%E6%8C%87%E4%BB%A4/" rel="tag"># 指令</a>
              <a href="/tags/%E6%B5%AE%E7%82%B9%E8%BF%90%E7%AE%97/" rel="tag"># 浮点运算</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2024/09/20/designing-pattern-singleton/" rel="prev" title="单例模式">
                  <i class="fa fa-angle-left"></i> 单例模式
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2024/09/30/mysql-base/" rel="next" title="MySQL 基础">
                  MySQL 基础 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2023 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="fa fa-heart"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">碎梦</span>
  </div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="返回顶部">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/scatteredream" class="github-corner" title="在 GitHub 上关注我" aria-label="在 GitHub 上关注我" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>

</body>
</html>
